<div class="container min-vh-100">
    <% if (locals.userEmpty) { %>
        <h2>Book of <%= userEmpty[0].username %></h2>
        <p class="text-center mt-5">Nenhum Livro Cadastrado!</p>

    <% } else if (locals.searchedUser) { %>
        <h2>Book of <%= searchedUser[0].username %></h2>
        <div class="cards-group">
            <% for (let user of searchedUser) { %>
                <div class="flip-card flip-horizontal-left">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <div class="card-profile d-flex gap-2">
                                <% if (user.picture) { %>
                                        <img src="<%= user.picture %>" alt="Profile Picture">
                                <% } else { %>
                                    <i class="bi bi-person-fill fs-5"></i>
                                <% } %>
                                <p class="fw-bolder"><%= user.username %></p>
                            </div>
                            
                            <div class="card-image">
                                <img src="https://covers.openlibrary.org/b/id/<%= user.cover %>-L.jpg" alt="book"
                                onclick="flipCard(this)">
                            </div>
    
                            <div class="card-stars d-flex text-warning gap-1">
                                <% for (let i = 0; i < user.rating; i++) { %>
                                    <i class="bi bi-star-fill"></i>
                                <% } %>
    
                                <% if (user.rating < 5) { %>
                                    <% for (let i = user.rating; i < 5; i++) { %>
                                        <i class="bi bi-star"></i>
                                    <% } %>
                                <% } %>
                            </div>
                        </div>
    
                        <div class="flip-card-back">
                            <div class="card-profile d-flex gap-2">
                                <% if (user.picture) { %>
                                        <img src="<%= user.picture %>" alt="Profile Picture">
                                <% } else { %>
                                    <i class="bi bi-person-fill fs-5"></i>
                                <% } %>
                                <p class="fw-bolder"><%= user.username %></p>
                            </div>
    
                            <div class="card-body" onclick="flipCard(this)">
                                <div class="card-title">
                                    <h2>
                                        <%= user.title %>
                                    </h2>
                                    <p>By <%= user.author %></p>
                                </div>
    
                                <div class="card-text">
                                    <p><%= user.description %></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            <% } %>

            <div class="container my-5">
                <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center">
                        <% if (currentPage > 1) { %>
                            <li class="page-item">
                                <a class="page-link" href="?page=<%= currentPage - 1 %>" aria-label="Anterior">
                                <span aria-hidden="true">&laquo;</span>
                                <span class="sr-only">Anterior</span>
                                </a>
                            </li>
                        <% } %>
                
                        <% for (let i = 1; i <= totalPages; i++) { %>
                            <li class="page-item <%= currentPage === i ? 'active' : '' %>">
                                <a class="page-link" href="?page=<%= i %>"><%= i %></a>
                            </li>
                        <% } %>
                
                        <% if (currentPage < totalPages) { %>
                            <li class="page-item">
                                <a class="page-link" href="?page=<%= currentPage + 1 %>" aria-label="Próximo">
                                <span aria-hidden="true">&raquo;</span>
                                <span class="sr-only">Próximo</span>
                                </a>
                            </li>
                        <% } %>
                    </ul>
                </nav>
            </div> 
        </div>
    <% } %>
</div>